{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst inputTime = document.querySelector(\"#datetime-picker\");\nconst btnStart = document.querySelector(\"button\");\nconst timerVeiw = document.querySelectorAll(\".value\");\n\n\n\nbtnStart.addEventListener(\"click\", startTimer);\n\n\nlet userSelectedDate = null;\nlet idTimer = null;\nbtnStart.disabled = true; \n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    clickOpens: true,\n    onClose(selectedDates) {\n        if (selectedDates[0] <= Date.now()){\n            iziToast.show({\n                title : \"âŒ Error\",\n                titleColor: \"#fff\",\n                message: \"Please choose a date in the future\",\n                messageColor: \"#fff\",\n                backgroundColor: \"#ef4040\",\n                position: \"topRight\",\n        });\n       return btnStart.disabled = true; \n        }else{\n            iziToast.destroy();\n            btnStart.disabled = false; \n            userSelectedDate = selectedDates[0]; \n        }\n    }\n};\n\nflatpickr(inputTime, options);\n\n\nfunction startTimer(){\n    inputTime.disabled = true;\n    btnStart.disabled = true;\n    idTimer = setInterval(() => {\n       const currentTime = Date.now();\n       const result = userSelectedDate - currentTime;\n        if (result <= 0){ \n           inputTime.disabled = false;\n           clearInterval(idTimer); \n           updateTimer({ days: \"00\", hours: \"00\", minutes: \"00\", seconds: \"00\" });  \n           return;  \n        }; \n       const ms = convertMs(result);\n       updateTimer(ms);\n\n    },1000);\n};\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = addLeadingZero(Math.floor(ms / day));\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n  return { days, hours, minutes, seconds };\n}\n\n function addLeadingZero(value){\n        return String(value).padStart(2, \"0\");\n       };\n\nfunction updateTimer(obj){\n    const values = Object.values(obj);\n    timerVeiw.forEach((item, index) => {\n    item.textContent = values[index];  \n}); \n}\n"],"names":["inputTime","btnStart","timerVeiw","startTimer","userSelectedDate","idTimer","options","selectedDates","iziToast","flatpickr","currentTime","result","updateTimer","ms","convertMs","days","addLeadingZero","hours","minutes","seconds","value","obj","values","item","index"],"mappings":"0IASA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAY,SAAS,iBAAiB,QAAQ,EAIpDD,EAAS,iBAAiB,QAASE,CAAU,EAG7C,IAAIC,EAAmB,KACnBC,EAAU,KACdJ,EAAS,SAAW,GAEpB,MAAMK,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,WAAY,GACZ,QAAQC,EAAe,CACnB,GAAIA,EAAc,CAAC,GAAK,KAAK,IAAG,EAC5B,OAAAC,EAAS,KAAK,CACV,MAAQ,UACR,WAAY,OACZ,QAAS,qCACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAC1B,CAAS,EACKP,EAAS,SAAW,GAEtBO,EAAS,QAAO,EAChBP,EAAS,SAAW,GACpBG,EAAmBG,EAAc,CAAC,CAEzC,CACL,EAEAE,EAAUT,EAAWM,CAAO,EAG5B,SAASH,GAAY,CACjBH,EAAU,SAAW,GACrBC,EAAS,SAAW,GACpBI,EAAU,YAAY,IAAM,CACzB,MAAMK,EAAc,KAAK,MACnBC,EAASP,EAAmBM,EACjC,GAAIC,GAAU,EAAE,CACbX,EAAU,SAAW,GACrB,cAAcK,CAAO,EACrBO,EAAY,CAAE,KAAM,KAAM,MAAO,KAAM,QAAS,KAAM,QAAS,IAAI,CAAE,EACrE,MAEX,CAAO,MAAMC,EAAKC,EAAUH,CAAM,EAC3BC,EAAYC,CAAE,CAEhB,EAAC,GAAI,CACV,CAEA,SAASC,EAAUD,EAAI,CAMrB,MAAME,EAAOC,EAAe,KAAK,MAAMH,EAAK,KAAG,CAAC,EAC1CI,EAAQD,EAAe,KAAK,MAAOH,EAAK,MAAO,IAAI,CAAC,EACpDK,EAAUF,EAAe,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEM,EAAUH,EAAe,KAAK,MAASH,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAClF,MAAO,CAAE,KAAAE,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEC,SAASH,EAAeI,EAAM,CACvB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CAE5C,CACA,SAASR,EAAYS,EAAI,CACrB,MAAMC,EAAS,OAAO,OAAOD,CAAG,EAChCnB,EAAU,QAAQ,CAACqB,EAAMC,IAAU,CACnCD,EAAK,YAAcD,EAAOE,CAAK,CACnC,CAAC,CACD"}