{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst inputTime = document.querySelector(\"#datetime-picker\");\nconst btnStart = document.querySelector(\"button\");\nconst timerVeiw = document.querySelector(\".value\");\n\n\n\nbtnStart.addEventListener(\"click\", handleClick);\n\n\nlet userSelectedDate = null;\nbtnStart.disabled = true; \nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    clickOpens: true,\n    onClose(selectedDates) {\n        if (selectedDates[0] < Date.now()){\n            iziToast.error({\n                message: \"Please choose a date in the future\",\n        });\n       return btnStart.disabled = true; \n        \n        }\n        console.log(selectedDates[0]);\n        btnStart.disabled = false; \n        userSelectedDate = selectedDates[0]; \n    }\n};\n\nconst fp = flatpickr(inputTime, options);\n\n\nfunction handleClick(){\n    /*  const startTime = Date.now(); */\n    options.clickOpens = false;\n    inputTime.disabled = true;\n    fp.close();\n    btnStart.disabled = true;\n    const idTimer = setInterval(() => {\n       const currentTime = Date.now();\n       const result = userSelectedDate - currentTime;\n      \n      \n       const ms = convertMs(result);\n       updateTimer(ms);\n\n    },1000);\n};\n\n\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = addLeadingZero(Math.floor(ms / day));\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n  /* console.log({ days, hours, minutes, seconds }); */\n  return { days, hours, minutes, seconds };\n}\n\n function addLeadingZero(value){\n        return String(value).padStart(2, \"0\");\n       };\n\nfunction updateTimer({ days, hours, minutes, seconds }){\ntimerVeiw.textContent = `${timerVeiw.dataset.days = days},${timerVeiw.dataset.hours = hours},${timerVeiw.dataset.minutes = minutes},${timerVeiw.dataset.seconds = seconds}`\nconsole.log(timerVeiw.dataset.hours);\n\n};\n \n "],"names":["inputTime","btnStart","timerVeiw","handleClick","userSelectedDate","options","selectedDates","iziToast","fp","flatpickr","currentTime","result","ms","convertMs","updateTimer","days","addLeadingZero","hours","minutes","seconds","value"],"mappings":"+IASA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAY,SAAS,cAAc,QAAQ,EAIjDD,EAAS,iBAAiB,QAASE,CAAW,EAG9C,IAAIC,EAAmB,KACvBH,EAAS,SAAW,GACpB,MAAMI,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,WAAY,GACZ,QAAQC,EAAe,CACnB,GAAIA,EAAc,CAAC,EAAI,KAAK,IAAG,EAC3B,OAAAC,EAAS,MAAM,CACX,QAAS,oCACzB,CAAS,EACKN,EAAS,SAAW,GAG1B,QAAQ,IAAIK,EAAc,CAAC,CAAC,EAC5BL,EAAS,SAAW,GACpBG,EAAmBE,EAAc,CAAC,CACrC,CACL,EAEME,EAAKC,EAAUT,EAAWK,CAAO,EAGvC,SAASF,GAAa,CAElBE,EAAQ,WAAa,GACrBL,EAAU,SAAW,GACrBQ,EAAG,MAAK,EACRP,EAAS,SAAW,GACJ,YAAY,IAAM,CAC/B,MAAMS,EAAc,KAAK,MACnBC,EAASP,EAAmBM,EAG5BE,EAAKC,EAAUF,CAAM,EAC3BG,EAAYF,CAAE,CAEhB,EAAC,GAAI,CACV,CAIA,SAASC,EAAUD,EAAI,CAMrB,MAAMG,EAAOC,EAAe,KAAK,MAAMJ,EAAK,KAAG,CAAC,EAC1CK,EAAQD,EAAe,KAAK,MAAOJ,EAAK,MAAO,IAAI,CAAC,EACpDM,EAAUF,EAAe,KAAK,MAAQJ,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEO,EAAUH,EAAe,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAGlF,MAAO,CAAE,KAAAG,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEC,SAASH,EAAeI,EAAM,CACvB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CAE5C,CACA,SAASN,EAAY,CAAE,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CACvDjB,EAAU,YAAc,GAAGA,EAAU,QAAQ,KAAOa,CAAI,IAAIb,EAAU,QAAQ,MAAQe,CAAK,IAAIf,EAAU,QAAQ,QAAUgB,CAAO,IAAIhB,EAAU,QAAQ,QAAUiB,CAAO,GACzK,QAAQ,IAAIjB,EAAU,QAAQ,KAAK,CAEnC"}